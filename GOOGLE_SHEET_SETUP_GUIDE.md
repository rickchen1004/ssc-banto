# Google Sheet 設定指南

## 步驟 1: 建立 Google Sheet

1. 開啟 [Google Sheets](https://sheets.google.com)
2. 點擊「空白」建立新試算表
3. 將試算表命名為「安親班訂便當系統」

## 步驟 2: 建立工作表結構

預設會有一個「工作表1」，我們需要建立 4 個工作表：

1. 點擊左下角的「+」號，建立新工作表
2. 重複 3 次，總共建立 4 個工作表
3. 將工作表重新命名：
   - 工作表1 → 「設定」
   - 工作表2 → 「餐點」
   - 工作表3 → 「加購」
   - 工作表4 → 「訂單」

## 步驟 3: 設定「設定」工作表

在「設定」工作表中：

### 標題行（第 1 行）
| A1 | B1 |
|----|----|
| 今日餐廳 | 菜單圖片網址 |

### 資料行（第 2 行）
| A2 | B2 |
|----|----|
| 美味麵館 | https://images.unsplash.com/photo-1569718212165-3a8278d5f624?w=800 |

**說明：** 
- A2 是今日使用的餐廳名稱（可以隨時更改）
- B2 是菜單圖片的網址（使用範例圖片）

## 步驟 4: 設定「餐點」工作表

在「餐點」工作表中：

### 標題行（第 1 行）
| A1 | B1 | C1 | D1 | E1 | F1 |
|----|----|----|----|----|-----|
| 餐廳名稱 | 餐點ID | 餐點名稱 | 餐點價格 | 備註選項 | 加購項目ID |

### 資料行（第 2-7 行）

**美味麵館的餐點：**

| A | B | C | D | E | F |
|---|---|---|---|---|---|
| 美味麵館 | meal_001 | 紅燒牛肉麵 | 80 | 加辣,粗麵,細麵 | addon_001,addon_002 |
| 美味麵館 | meal_002 | 炸醬麵 | 70 | 加辣,粗麵,細麵 | addon_001,addon_002 |
| 美味麵館 | meal_003 | 榨菜肉絲麵 | 75 | 加辣,粗麵,細麵 | addon_001,addon_002 |

**便當王的餐點：**

| A | B | C | D | E | F |
|---|---|---|---|---|---|
| 便當王 | meal_004 | 炸雞便當 | 75 | 去骨,加辣 | addon_003,addon_004 |
| 便當王 | meal_005 | 排骨便當 | 80 | 加辣 | addon_003,addon_004 |
| 便當王 | meal_006 | 魚排便當 | 85 | 去骨,加辣 | addon_003,addon_004 |

**完整資料（複製貼上）：**
```
美味麵館	meal_001	紅燒牛肉麵	80	加辣,粗麵,細麵	addon_001,addon_002
美味麵館	meal_002	炸醬麵	70	加辣,粗麵,細麵	addon_001,addon_002
美味麵館	meal_003	榨菜肉絲麵	75	加辣,粗麵,細麵	addon_001,addon_002
便當王	meal_004	炸雞便當	75	去骨,加辣	addon_003,addon_004
便當王	meal_005	排骨便當	80	加辣	addon_003,addon_004
便當王	meal_006	魚排便當	85	去骨,加辣	addon_003,addon_004
```

## 步驟 5: 設定「加購」工作表

在「加購」工作表中：

### 標題行（第 1 行）
| A1 | B1 | C1 | D1 |
|----|----|----|-----|
| 餐廳名稱 | 加購ID | 加購名稱 | 加購價格 |

### 資料行（第 2-5 行）

**美味麵館的加購項目：**

| A | B | C | D |
|---|---|---|---|
| 美味麵館 | addon_001 | 加麵 | 10 |
| 美味麵館 | addon_002 | 焗烤 | 20 |

**便當王的加購項目：**

| A | B | C | D |
|---|---|---|---|
| 便當王 | addon_003 | 飲料 | 15 |
| 便當王 | addon_004 | 加飯 | 5 |

**完整資料（複製貼上）：**
```
美味麵館	addon_001	加麵	10
美味麵館	addon_002	焗烤	20
便當王	addon_003	飲料	15
便當王	addon_004	加飯	5
```

## 步驟 6: 設定「訂單」工作表

在「訂單」工作表中：

### 標題行（第 1 行）
| A1 | B1 | C1 | D1 | E1 | F1 | G1 | H1 |
|----|----|----|----|----|----|----|-----|
| 時間戳記 | 餐廳名稱 | 學生姓名 | 餐點名稱 | 餐點價格 | 備註選項 | 加購項目 | 總金額 |

**說明：** 這個工作表只需要標題行，資料會由系統自動寫入

## 步驟 7: 驗證設定

檢查清單：
- [ ] 已建立 4 個工作表：設定、餐點、加購、訂單
- [ ] 「設定」工作表有今日餐廳和菜單圖片網址
- [ ] 「餐點」工作表有 2 家餐廳，每家至少 3 個餐點
- [ ] 「加購」工作表有 2 家餐廳，每家至少 2 個加購項目
- [ ] 「訂單」工作表有標題行
- [ ] 所有餐點的「加購項目ID」欄位都有對應的加購項目

## 步驟 8: 測試切換餐廳

1. 在「設定」工作表的 A2 儲存格，輸入「美味麵館」
2. 前端應該只顯示美味麵館的餐點和加購項目
3. 將 A2 改為「便當王」
4. 前端應該只顯示便當王的餐點和加購項目

## 完成後的下一步

完成 Google Sheet 設定後，你需要：

1. 在 Google Sheet 中開啟 Apps Script 編輯器（擴充功能 → Apps Script）
2. 實作 API 程式碼（這會在任務 4 中進行）
3. 部署為 Web App 並取得 URL
4. 將 URL 設定到前端的環境變數中

## 範例資料說明

### 為什麼選擇這些測試資料？

1. **兩家不同類型的餐廳**：
   - 美味麵館（麵食類）
   - 便當王（便當類）

2. **不同的價格範圍**：
   - 70-85 元，符合一般學生便當價格

3. **不同的備註選項**：
   - 麵館：加辣、粗麵、細麵（麵食特有）
   - 便當：去骨、加辣（便當特有）

4. **不同的加購項目**：
   - 麵館：加麵、焗烤
   - 便當：飲料、加飯

這樣的設計可以測試系統是否能正確區分不同餐廳的資料。

## 故障排除

### 問題：Apps Script 讀取不到資料
**解決方法：**
- 確認工作表名稱完全一致（包含中文字）
- 確認資料從第 2 行開始（第 1 行是標題）
- 確認沒有多餘的空白字元

### 問題：餐點沒有顯示加購項目
**解決方法：**
- 檢查「餐點」工作表的「加購項目ID」欄位
- 確認 ID 與「加購」工作表的「加購ID」欄位一致
- 多個 ID 用逗號分隔，不要有空格

### 問題：切換餐廳沒有效果
**解決方法：**
- 確認「設定」工作表的 A2 儲存格內容與「餐點」工作表的「餐廳名稱」完全一致
- 重新載入前端應用程式
