# 需求文件

## 簡介

安親班學生訂便當系統是一個前端應用程式，讓學生能夠透過簡單的介面選擇餐點、填寫訂單資訊，並將訂單記錄自動新增到 Google Sheet。系統使用 Google Sheet 作為資料來源和儲存媒介，老師可以直接在 Google Sheet 中管理菜單、餐點、備註選項和加購項目，無需額外的後台系統。系統旨在簡化安親班的午餐訂購流程，讓學生能夠快速完成點餐。

## 術語表

- **系統 (System)**: 安親班學生訂便當前端應用程式
- **學生 (Student)**: 使用系統訂購便當的安親班學生
- **老師 (Teacher)**: 在 Google Sheet 中管理菜單和餐點設定的安親班老師
- **設定工作表 (Configuration Sheet)**: Google Sheet 中用於存放菜單圖片網址、餐點清單、備註選項和加購項目的工作表
- **餐廳菜單 (Restaurant Menu)**: 老師在設定工作表中指定的當日餐廳菜單圖片
- **餐點 (Meal Item)**: 可供選擇的餐點項目（例如：紅燒牛肉麵），定義在設定工作表中
- **備註選項 (Meal Options)**: 餐點的客製化選項（例如：加辣、粗麵、細麵），定義在設定工作表中
- **加購項目 (Add-on Items)**: 可額外加購的項目（例如：加麵），定義在設定工作表中
- **訂單 (Order)**: 包含學生姓名、選擇的餐點、備註、加購項目及總金額的完整記錄
- **訂單工作表 (Orders Sheet)**: Google Sheet 中用於儲存所有訂單記錄的工作表
- **Google Sheet**: 用於儲存設定資料和訂單記錄的雲端試算表
- **餐廳名稱 (Restaurant Name)**: 在設定工作表中指定的當日使用餐廳的名稱，用於篩選對應的餐點和加購項目

## 需求

### 需求 1

**使用者故事：** 身為學生，我想要在開啟應用程式時立即看到今日的餐廳菜單，以便我能快速瀏覽可選擇的餐點

#### 驗收標準

1. WHEN 學生開啟應用程式 THEN 系統 SHALL 從設定工作表讀取菜單圖片網址並顯示當日餐廳菜單圖片
2. WHEN 菜單圖片載入中 THEN 系統 SHALL 顯示載入指示器
3. IF 菜單圖片載入失敗 THEN 系統 SHALL 顯示錯誤訊息並提供重新載入選項
4. WHEN 菜單圖片顯示時 THEN 系統 SHALL 確保圖片清晰可讀且適應不同螢幕尺寸
5. WHEN 系統讀取設定工作表失敗 THEN 系統 SHALL 顯示錯誤訊息並提供重試選項

### 需求 2

**使用者故事：** 身為學生，我想要選擇我想吃的餐點，以便我能訂購我喜歡的食物

#### 驗收標準

1. WHEN 學生瀏覽菜單 THEN 系統 SHALL 從設定工作表讀取並顯示所有可選擇的餐點項目列表
2. WHEN 學生點擊某個餐點 THEN 系統 SHALL 將該餐點標記為已選擇並顯示視覺回饋
3. WHEN 學生選擇餐點 THEN 系統 SHALL 顯示該餐點的名稱和基本價格
4. WHEN 學生已選擇一個餐點後再選擇另一個餐點 THEN 系統 SHALL 取消前一個選擇並更新為新選擇
5. WHEN 學生選擇餐點 THEN 系統 SHALL 啟用備註選項和加購項目的選擇功能

### 需求 3

**使用者故事：** 身為學生，我想要為我的餐點選擇備註選項，以便我能客製化我的餐點

#### 驗收標準

1. WHEN 學生選擇了餐點 THEN 系統 SHALL 從設定工作表讀取並顯示該餐點可用的備註選項列表
2. WHEN 學生選擇備註選項 THEN 系統 SHALL 允許選擇多個備註選項
3. WHEN 學生點擊已選擇的備註選項 THEN 系統 SHALL 取消該選項的選擇
4. WHEN 學生選擇或取消備註選項 THEN 系統 SHALL 即時更新視覺狀態
5. WHEN 沒有選擇餐點時 THEN 系統 SHALL 禁用備註選項的選擇功能

### 需求 4

**使用者故事：** 身為學生，我想要加購額外的項目，以便我能增加餐點的份量或配菜

#### 驗收標準

1. WHEN 學生選擇了餐點 THEN 系統 SHALL 從設定工作表讀取並顯示可用的加購項目列表及其價格
2. WHEN 學生選擇加購項目 THEN 系統 SHALL 允許選擇多個加購項目
3. WHEN 學生點擊已選擇的加購項目 THEN 系統 SHALL 取消該加購項目的選擇
4. WHEN 學生選擇或取消加購項目 THEN 系統 SHALL 即時更新總金額
5. WHEN 沒有選擇餐點時 THEN 系統 SHALL 禁用加購項目的選擇功能

### 需求 5

**使用者故事：** 身為學生，我想要填寫我的姓名，以便系統能識別訂單是誰訂的

#### 驗收標準

1. THE 系統 SHALL 提供姓名輸入欄位供學生填寫
2. WHEN 學生在姓名欄位輸入文字 THEN 系統 SHALL 接受並顯示輸入的內容
3. WHEN 學生嘗試提交訂單但姓名欄位為空 THEN 系統 SHALL 阻止提交並顯示錯誤訊息
4. WHEN 學生嘗試提交訂單但姓名僅包含空白字元 THEN 系統 SHALL 阻止提交並顯示錯誤訊息
5. WHEN 姓名欄位獲得焦點 THEN 系統 SHALL 提供視覺回饋指示該欄位為活動狀態

### 需求 6

**使用者故事：** 身為學生，我想要看到訂單的總金額，以便我知道需要支付多少錢

#### 驗收標準

1. WHEN 學生選擇餐點 THEN 系統 SHALL 顯示該餐點的基本價格作為初始總金額
2. WHEN 學生選擇或取消加購項目 THEN 系統 SHALL 即時重新計算並更新總金額
3. WHEN 計算總金額時 THEN 系統 SHALL 將餐點基本價格與所有已選擇加購項目的價格相加
4. WHEN 顯示金額時 THEN 系統 SHALL 使用清晰的貨幣格式（例如：NT$ 120）
5. THE 系統 SHALL 在整個訂購流程中持續顯示當前總金額

### 需求 7

**使用者故事：** 身為學生，我想要提交我的訂單，以便我的便當訂購能被記錄和處理

#### 驗收標準

1. WHEN 學生完成所有必填欄位 THEN 系統 SHALL 啟用提交按鈕
2. WHEN 學生點擊提交按鈕 THEN 系統 SHALL 驗證所有必填欄位已正確填寫
3. IF 必填欄位未完整填寫 THEN 系統 SHALL 阻止提交並顯示具體的錯誤訊息
4. WHEN 訂單驗證通過 THEN 系統 SHALL 將訂單資料傳送到訂單工作表
5. WHEN 訂單正在提交時 THEN 系統 SHALL 顯示載入指示器並禁用提交按鈕防止重複提交

### 需求 8

**使用者故事：** 身為學生，我想要知道我的訂單是否成功提交，以便我確認我的便當已被記錄

#### 驗收標準

1. WHEN 訂單成功新增到訂單工作表 THEN 系統 SHALL 顯示成功訊息
2. WHEN 訂單提交成功 THEN 系統 SHALL 清空所有輸入欄位和選擇項目
3. WHEN 訂單提交成功 THEN 系統 SHALL 重置總金額顯示
4. IF 訂單提交到訂單工作表失敗 THEN 系統 SHALL 顯示錯誤訊息並保留學生的輸入資料
5. WHEN 顯示成功或錯誤訊息 THEN 系統 SHALL 在數秒後自動隱藏訊息或提供關閉選項

### 需求 9

**使用者故事：** 身為學生，我想要系統將我的訂單正確記錄到訂單工作表，以便安親班老師能查看和處理我的訂單

#### 驗收標準

1. WHEN 系統新增訂單到訂單工作表 THEN 系統 SHALL 包含學生姓名欄位
2. WHEN 系統新增訂單到訂單工作表 THEN 系統 SHALL 包含選擇的餐點名稱
3. WHEN 系統新增訂單到訂單工作表 THEN 系統 SHALL 包含所有選擇的備註選項
4. WHEN 系統新增訂單到訂單工作表 THEN 系統 SHALL 包含所有選擇的加購項目
5. WHEN 系統新增訂單到訂單工作表 THEN 系統 SHALL 包含計算後的總金額
6. WHEN 系統新增訂單到訂單工作表 THEN 系統 SHALL 包含訂單提交的時間戳記
7. WHEN 系統新增訂單到訂單工作表 THEN 系統 SHALL 將新訂單附加到現有記錄之後而不覆蓋既有資料

### 需求 10

**使用者故事：** 身為老師，我想要在 Google Sheet 中管理菜單和餐點設定，以便我能輕鬆更新每日的餐點選項

#### 驗收標準

1. THE 系統 SHALL 支援從設定工作表讀取菜單圖片網址欄位
2. THE 系統 SHALL 支援從設定工作表讀取餐點名稱和價格欄位
3. THE 系統 SHALL 支援從設定工作表讀取每個餐點的備註選項欄位
4. THE 系統 SHALL 支援從設定工作表讀取加購項目名稱和價格欄位
5. WHEN 老師更新設定工作表的內容 THEN 系統 SHALL 在下次載入時反映最新的設定資料
