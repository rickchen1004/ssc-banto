# 管理功能測試清單

## 🔐 密碼保護測試

### 測試 1: 直接訪問管理頁面
1. **清除 sessionStorage**：
   - 打開瀏覽器開發者工具（F12）
   - 切換到「Application」或「儲存空間」標籤
   - 找到 Session Storage
   - 刪除 `admin_authenticated` 項目（如果有）

2. **訪問 `/admin`**：
   - 應該顯示密碼對話框
   - ✅ 通過：顯示密碼輸入框
   - ❌ 失敗：直接顯示管理頁面

3. **訪問 `/admin/restaurants`**：
   - 應該顯示密碼對話框
   - ✅ 通過：顯示密碼輸入框
   - ❌ 失敗：直接顯示餐廳列表

4. **訪問 `/admin/importer`**：
   - 應該顯示密碼對話框
   - ✅ 通過：顯示密碼輸入框
   - ❌ 失敗：直接顯示匯入頁面

### 測試 2: 密碼驗證
1. **輸入錯誤密碼**：
   - 在 `/admin` 輸入錯誤密碼
   - ✅ 通過：顯示錯誤訊息
   - ❌ 失敗：進入管理頁面

2. **輸入正確密碼**：
   - 在 `/admin` 輸入正確密碼（`.env` 中的 `VITE_ADMIN_PASSWORD`）
   - ✅ 通過：進入管理儀表板
   - ❌ 失敗：顯示錯誤或停留在密碼頁面

### 測試 3: Session 持久性
1. **登入後訪問其他管理頁面**：
   - 在 `/admin` 登入成功
   - 點擊「餐廳管理」
   - ✅ 通過：直接進入餐廳管理頁面（不需要再次輸入密碼）
   - ❌ 失敗：要求再次輸入密碼

2. **直接訪問其他管理頁面**：
   - 已登入狀態下，在網址列輸入 `/admin/importer`
   - ✅ 通過：直接進入匯入頁面
   - ❌ 失敗：要求輸入密碼

3. **重新整理頁面**：
   - 在任何管理頁面按 F5 重新整理
   - ✅ 通過：保持登入狀態
   - ❌ 失敗：要求重新登入

4. **關閉瀏覽器後重新開啟**：
   - 關閉瀏覽器
   - 重新開啟並訪問 `/admin`
   - ✅ 通過：要求重新輸入密碼
   - ❌ 失敗：自動登入

## 🏪 餐廳管理功能測試

### 測試 4: 餐廳列表顯示
1. **訪問 `/admin/restaurants`**：
   - ✅ 通過：顯示所有餐廳（黃加雞腿、徐家飯卷、陳師傅原汁牛肉麵）
   - ✅ 通過：每個餐廳顯示縮圖、名稱、URL、開關按鈕
   - ❌ 失敗：顯示錯誤或空白

### 測試 5: 開關餐廳
1. **啟用餐廳**：
   - 點擊「黃加雞腿」的開關按鈕
   - ✅ 通過：開關變成藍色（啟用狀態）
   - ✅ 通過：顯示「更新成功」通知
   - ✅ 通過：其他餐廳的開關自動關閉
   - ❌ 失敗：沒有反應或顯示錯誤

2. **切換到另一家餐廳**：
   - 點擊「徐家飯卷」的開關按鈕
   - ✅ 通過：「徐家飯卷」開關變藍色
   - ✅ 通過：「黃加雞腿」開關自動關閉
   - ❌ 失敗：兩個開關都是藍色

3. **關閉所有餐廳**：
   - 點擊已啟用餐廳的開關按鈕
   - ✅ 通過：開關變成灰色（關閉狀態）
   - ✅ 通過：訪問首頁 `/` 顯示「尚未開放點餐」
   - ❌ 失敗：開關沒有變化

### 測試 6: 學生端效果
1. **啟用餐廳後訪問首頁**：
   - 在管理頁面啟用「黃加雞腿」
   - 訪問 `/`（學生訂餐頁面）
   - ✅ 通過：顯示「黃加雞腿」的菜單
   - ❌ 失敗：顯示「尚未開放點餐」或其他餐廳

2. **切換餐廳**：
   - 在管理頁面切換到「徐家飯卷」
   - 重新整理學生訂餐頁面
   - ✅ 通過：顯示「徐家飯卷」的菜單
   - ❌ 失敗：仍顯示「黃加雞腿」

## 🎨 UI/UX 測試

### 測試 7: 文字對齊
1. **頁面頂部**：
   - ✅ 通過：「餐廳管理」標題置中
   - ✅ 通過：「控制今日開放點餐的餐廳」副標題置中
   - ✅ 通過：「返回管理台」按鈕在右上角

2. **餐廳列表**：
   - ✅ 通過：「餐廳列表」標題靠左
   - ✅ 通過：餐廳名稱靠左
   - ✅ 通過：圖片 URL 靠左
   - ✅ 通過：圖片、文字、開關按鈕垂直置中

3. **頁面底部**：
   - ✅ 通過：「使用說明」標題置中
   - ✅ 通過：說明文字置中

### 測試 8: 響應式設計
1. **手機尺寸**（375px）：
   - ✅ 通過：所有元素正常顯示
   - ✅ 通過：開關按鈕可以點擊

2. **平板尺寸**（768px）：
   - ✅ 通過：佈局正常

3. **桌面尺寸**（1920px）：
   - ✅ 通過：內容置中，不會太寬

## 🔄 導航測試

### 測試 9: 頁面導航
1. **從儀表板到餐廳管理**：
   - `/admin` → 點擊「餐廳管理」
   - ✅ 通過：進入 `/admin/restaurants`

2. **從儀表板到菜單匯入**：
   - `/admin` → 點擊「菜單匯入」
   - ✅ 通過：進入 `/admin/importer`

3. **返回管理台**：
   - `/admin/restaurants` → 點擊「返回管理台」
   - ✅ 通過：返回 `/admin`

4. **返回首頁**：
   - `/admin` → 點擊「返回首頁」
   - ✅ 通過：返回 `/`

5. **首頁管理按鈕**：
   - `/` → 點擊右下角「管理」按鈕
   - ✅ 通過：進入 `/admin`

## 📝 測試結果記錄

測試日期：__________
測試人員：__________

| 測試項目 | 結果 | 備註 |
|---------|------|------|
| 測試 1: 密碼保護 | ⬜ 通過 ⬜ 失敗 | |
| 測試 2: 密碼驗證 | ⬜ 通過 ⬜ 失敗 | |
| 測試 3: Session 持久性 | ⬜ 通過 ⬜ 失敗 | |
| 測試 4: 餐廳列表顯示 | ⬜ 通過 ⬜ 失敗 | |
| 測試 5: 開關餐廳 | ⬜ 通過 ⬜ 失敗 | |
| 測試 6: 學生端效果 | ⬜ 通過 ⬜ 失敗 | |
| 測試 7: 文字對齊 | ⬜ 通過 ⬜ 失敗 | |
| 測試 8: 響應式設計 | ⬜ 通過 ⬜ 失敗 | |
| 測試 9: 頁面導航 | ⬜ 通過 ⬜ 失敗 | |

## 🐛 已知問題

（記錄測試中發現的問題）

## ✅ 測試完成檢查清單

- [ ] 所有密碼保護測試通過
- [ ] 餐廳開關功能正常
- [ ] 學生端正確顯示啟用的餐廳
- [ ] UI 對齊正確
- [ ] 導航功能正常
- [ ] 無 console 錯誤
- [ ] Google Apps Script 已更新並重新部署
